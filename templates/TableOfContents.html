{{/* FILE: templates/TableOfContents.html */}}

{{ define "TableOfContents" }}
<div class="h-full flex flex-col">
    <!-- TOC Header -->
    <div class="p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between">
        <h2 class="font-bold text-lg text-gray-900 dark:text-white">Table of Contents</h2>
        <button id="close-sidebar" class="md:hidden p-1 rounded text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
        </button>
    </div>
    
    <!-- TOC Content - Scrollable Area -->
    <div class="flex-1 overflow-y-auto p-2">
        <ul id="toc-list" class="space-y-1">
            <!-- TOC items will be dynamically added here -->
            <!-- Template item for reference -->
            <li class="toc-item-template hidden">
                <a href="#section-id" class="block px-3 py-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white transition-colors duration-150">
                    <span class="toc-section-number">1.</span> <span class="toc-section-title">Section Title</span>
                </a>
            </li>
        </ul>
    </div>
    
    <!-- TOC Footer with Actions -->
    <div class="p-4 border-t border-gray-200 dark:border-gray-700">
        <button id="add-section-btn" class="w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
            Add New Section
        </button>
    </div>
</div>
{{ end }}
